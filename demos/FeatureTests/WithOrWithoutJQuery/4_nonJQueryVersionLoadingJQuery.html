<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

<!--
	JsDefer.js is the jQuery-independent version of JsDefer, but it will become equivalent
	to jquery.defer.js and will create a jQuery plugin if jQuery IS loaded already.
-->
	<script src="../../../JsDefer.js" type="text/javascript"></script>

	<script src="../consoleTest.js" type="text/javascript"></script>
	<script type="text/javascript">
		$.defer( "../resources/folder1/a.js", {
				myVal: "val1",
				delayDomReady: true
			})
			.done( log );

		function loadJQuery() {
			$.defer( "http://code.jquery.com/jquery.js", {
					bare: true
				})
				.done( useJQuery );
		}

		function useJQuery() {
			alert( "jQuery tells me that 'console' content is currently: \n" + $( "#results" ).html()  );

			$.defer( "../resources/folder2/c.js", {
					myVal: "val2"
				})
				.done( log );
			$.defer( "http://www.jslint.com/webjslint.js", {
					bare: true
				})
				.done( function() { log( "jSLint loaded.") } );
		}


	</script>
</head>
<body>

<button onclick="loadJQuery()">Load and use jQuery</button>
<p>
<b>Results:</b> <span id="results"></span>
</p>

</body>
</html>
